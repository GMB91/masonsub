<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="360" viewBox="0 0 800 360" aria-labelledby="title">
  <title id="title">MasonSub architecture diagram</title>
  <rect x="24" y="24" width="220" height="120" rx="8" fill="#0ea5e9" opacity="0.12" stroke="#0ea5e9"/>
  <text x="36" y="52" font-family="sans-serif" font-size="14" fill="#036475">Frontend (Next.js)</text>
  <text x="36" y="74" font-family="sans-serif" font-size="12" fill="#0a5566">- Pages & Layouts</text>
  <text x="36" y="92" font-family="sans-serif" font-size="12" fill="#0a5566">- React Query, RHF + Zod</text>

  <rect x="280" y="24" width="240" height="120" rx="8" fill="#06b6d4" opacity="0.08" stroke="#06b6d4"/>
  <text x="292" y="52" font-family="sans-serif" font-size="14" fill="#035456">Backend / API</text>
  <text x="292" y="74" font-family="sans-serif" font-size="12" fill="#034b52">- Next server functions</text>
  <text x="292" y="92" font-family="sans-serif" font-size="12" fill="#034b52">- Migrations & Seed</text>

  <rect x="560" y="24" width="200" height="120" rx="8" fill="#34d399" opacity="0.08" stroke="#10b981"/>
  <text x="580" y="52" font-family="sans-serif" font-size="14" fill="#065f46">Data & Ops</text>
  <text x="580" y="74" font-family="sans-serif" font-size="12" fill="#064e3b">- Supabase Postgres</text>
  <text x="580" y="92" font-family="sans-serif" font-size="12" fill="#064e3b">- CI: migrate, seed, tests</text>

  <line x1="244" y1="84" x2="280" y2="84" stroke="#94a3b8" stroke-width="2" stroke-dasharray="4 4" />
  <line x1="520" y1="84" x2="560" y2="84" stroke="#94a3b8" stroke-width="2" stroke-dasharray="4 4" />

  <text x="36" y="160" font-family="sans-serif" font-size="12" fill="#0f172a">Import preview & duplicate detection use file-backed fallback when Supabase unavailable.</text>
</svg>
